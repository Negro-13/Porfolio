<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Proyecto Flask</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <!-- Fondo animado de cuadrados -->
    <div class="white">
        <div class="squares">
            <div class="square"></div>
            <div class="square"></div>
            <div class="square"></div>
            <div class="square"></div>
            <div class="square"></div>
            <div class="square"></div>
            <div class="square"></div>
            <div class="square"></div>
            <div class="square"></div>
        </div>
    </div>

    <!-- Contenedor del contenido principal sobre el fondo -->
    <div class="main-content">
        <!-- Nav bar -->
        <nav class="navbar navbar-dark bg-dark fixed-top">
            <a class="navbar-brand ms-3" href="{{ url_for('home') }}">
                <img src="https://github.githubassets.com/assets/GitHub-Mark-ea2971cee799.png" alt="Logo" width="30"
                    height="24" class="d-inline-block align-text-top" />
                Máximo Vijarra
            </a>

            <div class="d-flex align-items-center">
                <a href="{{ url_for('login') }}" class="btn btn-success me-2">Login</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>

            <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar"
                aria-labelledby="offcanvasDarkNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="" id="offcanvasDarkNavbarLabel">Navbar</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                </div>

                <div class="offcanvas-body d-flex flex-column h-100">
                    <ul class="navbar-nav flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a href="{{ url_for('home') }}" class="btn-liquid" aria-current="page">
                                <span>Inicio</span>
                                <span class="liquid"></span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ url_for('projects') }}" class="btn-liquid">
                                <span>Proyectos</span>
                                <span class="liquid"></span>
                            </a>
                        </li>
                    </ul>

                    <div class="mt-auto text-center pb-3">
                        <hr class="text-secondary" />
                        <div class="d-flex justify-content-around">
                            <a href="https://www.instagram.com/max_vijarra86?igsh=MWVncXoxZXJuMGxzbQ==" target="_blank" class="text-light fs-4">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="https://wa.me/543518684140" target="_blank" class="text-light fs-4">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                            <a href="https://github.com/Negro-13" target="_blank" class="text-light fs-4">
                                <i class="fab fa-github"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Cuerpo -->
        <div class="contenido">
            <div class="container mt-5 pt-5">
                <div class="card_principal">
                    <img src="../static/imgs/card.png" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h1>Máximo Vijarra</h1>
                        <p class="card-text">Estudiante de secundaria con gran interés en la programación y la tecnología. Me destaco por mi rápida capacidad de aprendizaje y motivación para enfrentar nuevos desafíos. Poseo conocimientos en Front-end, Back-end, bases de datos, y desarrollo de aplicaciones web, y busco adquirir experiencia práctica, mejorar mis habilidades y contribuir en proyectos que me permitan seguir aprendiendo y creciendo profesionalmente.</p>
                        <!-- Botón para descargar el CV -->
                        <a href="{{ url_for('static', filename='archivos/CV_Maximo_Vijarra_Tabarcache.pdf') }}" class="btn btn-primary mt-3" download>
                            <i class="fa fa-download"></i> Descargar CV
                        </a>
                    </div>
                </div>
                <h2 class="mt-4">Experiencias Laborales</h2>
                <div class="row mt-2">
                    {% set laborales = experiencias|selectattr('tipo','equalto','Laboral')|list %}
                    {% if laborales and laborales|length > 0 %}
                    {% for e in laborales %}
                    <div class="col-12 mb-3">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">{{ e.lugar }} <small class="text-muted">{{ e.fecha_inicio }}{% if e.fecha_fin %} - {{ e.fecha_fin }}{% endif %}</small></h5>
                                <p class="card-text">{{ e.descripcion }}</p>
                                <!-- Mostrar imagen si existe, abajo de la descripción -->
                                {% if e.imagen %}
                                <div class="d-flex justify-content-center mt-3">
                                    <img src="{{ url_for('static', filename='imgs/' ~ e.imagen) }}" alt="Imagen experiencia" style="height:180px;width:auto;object-fit:cover;border-radius:1rem;">
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    {% else %}
                    <div class="col-12">
                        <p>No hay experiencias laborales registradas.</p>
                    </div>
                    {% endif %}
                </div>

                <h2 class="mt-4">Experiencias Educativas</h2>
                <div class="row mt-2">
                    {% set educativas = experiencias|selectattr('tipo','equalto','Educativa')|list %}
                    {% if educativas and educativas|length > 0 %}
                    {% for e in educativas %}
                    <div class="col-12 mb-3">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">{{ e.lugar }} <small class="text-muted">{{ e.fecha_inicio }}{% if e.fecha_fin %} - {{ e.fecha_fin }}{% endif %}</small></h5>
                                <p class="card-text">{{ e.descripcion }}</p>
                                <!-- Mostrar imagen si existe, abajo de la descripción -->
                                {% if e.imagen %}
                                <div class="d-flex justify-content-center mt-3">
                                    <img src="{{ url_for('static', filename='imgs/' ~ e.imagen) }}" alt="Imagen experiencia" style="height:180px;width:auto;object-fit:cover;border-radius:1rem;">
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    {% else %}
                    <div class="col-12">
                        <p>No hay experiencias educativas registradas.</p>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Sección de gráficos de habilidades dentro de una card -->
        <div class="container mt-5 mb-5">
            <div class="card">
                <div class="card-body">
                    <h2 class="mb-4 text-center">Mis conocimientos y habilidades blandas</h2>
                    <div class="row justify-content-center">
                        <div class="col-md-6 mb-4">
                            <canvas id="graficoConocimientos"></canvas>
                        </div>
                        <div class="col-md-6 mb-4">
                            <canvas id="graficoHabilidades"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Chart.js CDN -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            // Gráfico de conocimientos técnicos
            const ctxConocimientos = document.getElementById('graficoConocimientos').getContext('2d');
            new Chart(ctxConocimientos, {
                type: 'bar',
                data: {
                    labels: ['Python', 'HTML', 'CSS', 'JavaScript', 'SQL', 'GDScript'],
                    datasets: [{
                        label: 'Nivel (%)',
                        data: [85, 80, 75, 40, 55, 65],
                        backgroundColor: [
                            '#7e11b0', '#b20ae6', '#727272', '#4e4e4e', '#bdb9b9', '#11b07e'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true, max: 100 }
                    }
                }
            });

            // Gráfico de habilidades blandas
            const ctxHabilidades = document.getElementById('graficoHabilidades').getContext('2d');
            new Chart(ctxHabilidades, {
                type: 'radar',
                data: {
                    labels: ['Trabajo en equipo', 'Comunicación', 'Creatividad', 'Resolución de problemas', 'Responsabilidad', 'Organización'],
                    datasets: [{
                        label: 'Nivel',
                        data: [85, 60, 90, 75, 80, 87],
                        backgroundColor: 'rgba(126,17,176,0.2)',
                        borderColor: '#7e11b0',
                        pointBackgroundColor: '#7e11b0'
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        r: { beginAtZero: true, max: 100 }
                    }
                }
            });
        </script>
        <!-- Footer -->
        <footer class="footer mt-5 py-4 bg-dark text-white">
            <div class="container-fluid text-center">
                <p class="mb-1">© 2025 Tu Nombre. Todos los derechos reservados.</p>
                <ul class="list-inline mb-0">
                    <li class="list-inline-item"><a href="#" class="text-white text-decoration-none">Inicio</a></li>
                    <li class="list-inline-item"><a href="#" class="text-white text-decoration-none">Contacto</a></li>
                    <li class="list-inline-item"><a href="#" class="text-white text-decoration-none">Privacidad</a></li>
                </ul>
            </div>
        </footer>
    </div>
</body>

</html>